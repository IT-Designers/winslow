<div *ngFor="let line of textSource" class="line-content">
  <code>
    <span *ngFor="let segment of getSegments(line)" class="segment" [ngClass]="segment.classType"
    >{{segment.text}}</span>
  </code>
</div>

