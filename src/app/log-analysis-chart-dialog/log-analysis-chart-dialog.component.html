<h1 mat-dialog-title>Chart Settings</h1>

<!--todo-->

<mat-dialog-content class="dialog-content">
  <p>General</p>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="wide-field">
    <mat-label>Title</mat-label>
    <input matInput [(ngModel)]="data.definition.displaySettings.name">
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="wide-field">
    <mat-label>CSV Source</mat-label>
    <code>
      <input matInput [(ngModel)]="data.definition.file">
    </code>
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="wide-field">
    <mat-label>CSV Format</mat-label>
    <code>
      <input matInput [(ngModel)]="data.definition.formatter">
    </code>
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <app-regular-expression-visualiser
    [pattern]="data.chart.regExpSource"
    [textSource]="getPreviewText()"
  ></app-regular-expression-visualiser>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <p>Layout</p>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="wide-field">
    <mat-label>Limit Entries</mat-label>
    <input matInput [(ngModel)]="data.definition.entryLimit">
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="left-field">
    <mat-label>x-Axis Label</mat-label>
    <input matInput [(ngModel)]="data.definition.displaySettings.xAxisName">
  </mat-form-field>
  <mat-form-field appearance="fill" class="right-field">
    <mat-label>y-Axis Label</mat-label>
    <input matInput [(ngModel)]="data.definition.displaySettings.yAxisName">
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="left-field">
    <mat-label>x-Axis Variable</mat-label>
    <input matInput [(ngModel)]="data.definition.xVariable">
  </mat-form-field>
  <mat-form-field appearance="fill" class="right-field">
    <mat-label>y-Axis Variable</mat-label>
    <input matInput [(ngModel)]="data.definition.yVariable">
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="left-field">
    <mat-label>x-Axis Variable</mat-label>
    <input matInput [(ngModel)]="data.chartDefinition.xVariable">
  </mat-form-field>
  <mat-form-field appearance="fill" class="right-field">
    <mat-label>y-Axis Variable</mat-label>
    <input matInput [(ngModel)]="data.chartDefinition.yVariable">
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="left-field">
    <mat-label>x-Axis Type</mat-label>
    <mat-select [(ngModel)]="data.definition.displaySettings.xAxisType">
      <mat-option *ngFor="let axisType of AxisTypes" [value]="axisType">{{axisType | titlecase}}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="fill" class="right-field">
    <mat-label>y-Axis Type</mat-label>
    <mat-select [(ngModel)]="data.definition.displaySettings.yAxisType">
      <mat-option *ngFor="let axisType of AxisTypes" [value]="axisType">{{axisType | titlecase}}</mat-option>
    </mat-select>
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="left-field">
    <mat-label>Custom x-Axis Minimum</mat-label>
    <code>
      <input matInput [(ngModel)]="data.definition.displaySettings.xAxisMinValue">
    </code>
  </mat-form-field>
  <mat-form-field appearance="fill" class="right-field">
    <mat-label>Custom y-Axis Minimum</mat-label>
    <code>
      <input matInput [(ngModel)]="data.definition.displaySettings.yAxisMinValue">
    </code>
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <mat-form-field appearance="fill" class="left-field">
    <mat-label>Custom x-Axis Maximum</mat-label>
    <code>
      <input matInput [(ngModel)]="data.definition.displaySettings.xAxisMaxValue">
    </code>
  </mat-form-field>
  <mat-form-field appearance="fill" class="right-field">
    <mat-label>Custom y-Axis Maximum</mat-label>
    <code>
      <input matInput [(ngModel)]="data.definition.displaySettings.yAxisMaxValue">
    </code>
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <p>Preview</p>
</mat-dialog-content>

<mat-dialog-content class="dialog-content">
  <app-log-analysis-chart
    [data]="data.chart.data$ | async"
    [settings]="data.definition.displaySettings"
  ></app-log-analysis-chart>
</mat-dialog-content>

<mat-dialog-actions class="dialog-actions">
  <button mat-button [mat-dialog-close]="data.definition">Save</button>
</mat-dialog-actions>
